<div class="noprint breadcrumb flex gap-x-2 justify-between items-center px-5 mb-3 rounded-lg font-semibold text-xs">
  <nav>
    <ol class="flex items-center gap-1 py-3">
      <li>
        <span class="pr-1">{{form_title}}</span>
      </li>
    </ol>
  </nav>
</div>
<main>
  <div class="p-6 mb-3 bg-white rounded-lg">
    <div class="flex flex-col gap-y-2 font-semibold">
      <img src="/assets/images/user.svg" class="w-20 rounded-full" alt="">
      <span>{{UserInfo.name + "&nbsp;"+UserInfo.last_name}}</span>
      <div class="flex items-center gap-x-2"> <span>سمت:</span><span>پرسنل</span></div>
      <div class="flex items-center gap-x-2"> <span>شماره تماس:</span><span>{{UserInfo.mobile_number}}</span></div>
      <div class="flex items-center gap-x-2"> <span>کدملی:</span><span>{{UserInfo.id_card_number}}</span></div>
      <div class="flex items-center gap-x-2"> <span>ایمیل:</span><span>{{UserInfo.email}}</span></div>
    </div>
    <!--stepper-->
        <div class="noprint flex items-center my-10">
          <div class="flex items-center text-gray-500 gap-x-2" [ngClass]="{'!text-teal-600': (this.step>=1)}">
            <div class="text-center  font-medium  text-gray-500" [ngClass]="{'!text-teal-600': (this.step>=1) }">ورود و
              خروج</div>
            <div *ngIf="this.step>1"
              class="rounded-full text-lg transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-teal-600 bg-teal-500 flex items-center justify-center">
              <img src="/assets/images/icon/tick.svg" alt="">
            </div>
            <div *ngIf="this.step==1" [ngClass]="{'!border-teal-600': (this.step>=1) }"
              class="rounded-full text-lg transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-gray-500 flex items-center justify-center">
              <b>1</b>
            </div>
          </div>
          <div class="flex-auto border-t-2 transition duration-500 ease-in-out border-gray-300 mx-3"
            [ngClass]="{'!border-teal-600': (this.step>1)}"></div>
          <div class="flex items-center text-gray-500  gap-x-2" [ngClass]="{'!text-teal-600': (this.step>=2)}">
            <div class="text-center  font-medium  text-gray-500 " [ngClass]="{'!text-teal-600': (this.step>=2)}"> مرخصی
            </div>
            <div *ngIf="this.step>2"
              class="rounded-full text-lg transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-teal-600 bg-teal-500 flex items-center justify-center">
              <img src="/assets/images/icon/tick.svg" alt="">
            </div>
            <div *ngIf="this.step<=2" [ngClass]="{'!border-teal-600': (this.step>=2)}"
              class="rounded-full text-lg transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-gray-500 flex items-center justify-center">
              <b>2</b>
            </div>
          </div>
          <div class="flex-auto border-t-2 transition duration-500 ease-in-out border-gray-300 mx-3"
            [ngClass]="{'!border-teal-600': (this.step>2)}"></div>
          <div class="flex items-center text-gray-500 gap-x-2" [ngClass]="{'!text-teal-600': (this.step>=3)}">
            <div class="text-center  font-medium  text-gray-500" [ngClass]="{'!text-teal-600': (this.step>=3)}">ماموریت
            </div>
            <div *ngIf="this.step>3"
              class="rounded-full text-lg transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-teal-600 bg-teal-500 flex items-center justify-center">
              <img src="/assets/images/icon/tick.svg" alt="">
            </div>
            <div *ngIf="this.step<=3" [ngClass]="{'!border-teal-600': (this.step>=3)}"
              class="rounded-full text-lg transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-gray-500 flex items-center justify-center">
              <b>3</b>
            </div>
          </div>
          <div class="flex-auto border-t-2 transition duration-500 ease-in-out border-gray-300 mx-3"
            [ngClass]="{'!border-teal-600': (this.step>3)}"></div>
          <div class="flex items-center text-gray-500 gap-x-2" [ngClass]="{'!text-teal-600': (this.step>=4)}">
            <div class="text-center  font-medium  text-gray-500" [ngClass]="{'!text-teal-600': (this.step>=4)}"> دورکاری
            </div>
            <div *ngIf="this.step>4"
              class="rounded-full text-lg transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-teal-600 bg-teal-500 flex items-center justify-center">
              <img src="/assets/images/icon/tick.svg" alt="">
            </div>
            <div *ngIf="this.step<=4" [ngClass]="{'!border-teal-600': (this.step>=4)}"
              class="rounded-full text-lg transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-gray-500 flex items-center justify-center">
              <b>4</b>
            </div>
          </div>
          <div class="flex-auto border-t-2 transition duration-500 ease-in-out border-gray-300 mx-3"
            [ngClass]="{'!border-teal-600': (this.step>4)}"></div>
          <div class="flex items-center text-gray-500 gap-x-2" [ngClass]="{'!text-teal-600': (this.step>=5)}">
            <div class="text-center  font-medium  text-gray-500" [ngClass]="{'!text-teal-600': (this.step>=5)}"> صدور فیش
              حقوقی</div>
            <div *ngIf="this.step>5"
              class="rounded-full text-lg transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-teal-600 bg-teal-500 flex items-center justify-center">
              <img src="/assets/images/icon/tick.svg" alt="">
            </div>
            <div *ngIf="this.step<=5" [ngClass]="{'!border-teal-600': (this.step>=5)}"
              class="rounded-full text-lg transition duration-500 ease-in-out h-10 w-10 py-3 border-2 border-gray-500 flex items-center justify-center">
              <b>5</b>
            </div>
          </div>
        </div>

  <div>
    <div *ngIf="this.step==1"
      class="flex items-center w-1/3 justify-between border border-gray-200 p-2 rounded-md mb-4 font-medium">
      <div class="flex items-center gap-x-2">
        <span class="border-l pl-2 border-gray-200">مدت کارکرد</span>
        <span>23:45</span>
      </div>
      <div class="flex items-center gap-x-2">
        <span class="text-red-400">تردد ناقص</span>
        <span
          class="bg-red-400 flex items-center justify-center font-semibold text-white p-1 rounded-md w-8 h-8">4</span>
      </div>
    </div>
    <table class="min-w-full leading-normal">
      <thead *ngIf="this.step<5">
        <tr>
          <th *ngFor="let item of table_header"
            class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-800 uppercase tracking-wider">
            {{item}}
          </th>
        </tr>
      </thead>
      <tbody *ngIf="this.step==1">
        <tr *ngFor="let item of response_fingerprint_report | filter: this.SearchValue| filter: this.SearchValue; let i =index">
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{ ((this.currentPage -(1))*10) +(i+1)}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{item.Date}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{item.Enter}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{item.Exit}}</span>
          </td>
        </tr>
      </tbody>
      <tbody *ngIf="this.step==2">
        <tr *ngFor="let item of response_leave_request_report | filter: this.SearchValue| filter: this.SearchValue; let i =index">
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{ ((this.currentPage -(1))*10) +(i+1)}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{item.Date}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{item.Enter}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{item.Exit}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <select [(ngModel)]="item.status" (change)="ChangeStatusLeaveRequest(item.leave_request_pk_id)"
              class="w-full dark:text-bodydark1 text-black rounded-lg border border-gray-300 bg-transparent py-[0.68rem] px-2 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
              <option class="text-red-500" value="0"> تایید نشده</option>
              <option class="text-green-600"  value="1"> تایید شده </option>
            </select>
          </td>
        </tr>
      </tbody>
      <tbody *ngIf="this.step==3">
        <tr *ngFor="let item of response_business_trip_report | filter: this.SearchValue| filter: this.SearchValue; let i =index">
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{ ((this.currentPage -(1))*10) +(i+1)}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{item.start_date|date: "HH:mm - YYYY/MM/dd"}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{item.end_date |date: "HH:mm - YYYY/MM/dd"}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{item.destination}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <select [(ngModel)]="item.status" (change)="ChangeStatusBusinessTrip(item.business_trip_pk_id)"
              class="w-full dark:text-bodydark1 text-black rounded-lg border border-gray-300 bg-transparent py-[0.68rem] px-2 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
              <option class="text-red-500" value="0"> تایید نشده</option>
              <option class="text-green-600"  value="1"> تایید شده </option>
            </select>
          </td>
        </tr>
      </tbody>
      <tbody *ngIf="this.step==4">
        <tr *ngFor="let item of response_remote_request_report | filter: this.SearchValue| filter: this.SearchValue; let i =index">
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{ ((this.currentPage -(1))*10) +(i+1)}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{item.start_date|date: "HH:mm - YYYY/MM/dd"}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <span>{{item.end_date |date: "HH:mm - YYYY/MM/dd"}}</span>
          </td>
          <td class="border-b py-3 border-gray-200  text-center">
            <select [(ngModel)]="item.status" (change)="ChangeStatusRemoteRequest(item.remote_request_pk_id)"
              class="w-full dark:text-bodydark1 text-black rounded-lg border border-gray-300 bg-transparent py-[0.68rem] px-2 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
              <option class="text-red-500" value="0"> تایید نشده</option>
              <option class="text-green-600"  value="1"> تایید شده </option>
            </select>
          </td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="this.step==5" class="flex flex-col">
      <div class="flex items-center justify-between border border-gray-300 bg-gray-100 p-3">
        <div class="flex flex-col gap-y-3 items-center"><b>نام:</b><span>{{UserInfo.name}}</span></div>
        <div class="flex flex-col gap-y-3 items-center"><b>نام خانوادگی:</b><span>{{UserInfo.last_name}}</span></div>
        <div class="flex flex-col gap-y-3 items-center"><b>کدملی:</b><span>-----</span></div>
        <div class="flex flex-col gap-y-3 items-center"><b>سمت:</b><span>پرسنل</span></div>
        <div class="flex flex-col gap-y-3 items-center"><b>تاریخ صدور فیش:</b><span>-----</span></div>
      </div>
      <div class="flex justify-between border border-t-0 border-gray-300 bg-gray-100">
        <div class="flex justify-center items-center w-full border-l border-gray-300 p-3"><b>سایر</b></div>
        <div class="flex justify-center items-center w-full p-3"><b>کسورات</b></div>
      </div>
      <div class="flex justify-between border border-gray-300 border-y-0">
        <div class="flex justify-center flex-col gap-y-3 w-full border-l border-gray-300 p-4">
          <div class="flex justify-between"><span>اضافه کاری</span>
            <span>{{response_salary_receipt_report.overtime}}</span></div>
          <div class="flex justify-between"><span>دور کاری</span> <span>{{response_salary_receipt_report.remote}}</span>
          </div>
          <div class="flex justify-between"><span> ماموریت</span>
            <span>{{response_salary_receipt_report.business_trip}}</span></div>
          <div class="flex justify-between"><span> میزان کارکرد کل</span>
            <span>{{response_salary_receipt_report.total_earning}}</span></div>
        </div>
        <div class="flex justify-center flex-col gap-y-3 w-full p-4">
          <div class="flex justify-between"><span> مرخصی</span>
            <span>{{response_salary_receipt_report.vacation_leave}}</span></div>
          <div class="flex justify-between"><span> تاخیر</span> <span>{{response_salary_receipt_report.Undertime_earning}}</span></div>
          <div class="flex justify-between"><span> بیمه</span> <span>----</span></div>
          <div class="flex justify-between"><span> مالیات</span> <span>----</span></div>
        </div>
      </div>
      <div class="flex items-center justify-between border border-gray-300 bg-gray-100 py-3 px-6">
        <div class="flex flex-col gap-y-3 items-center"><b> جمع کسورات:</b><span>----</span></div>
        <div class="flex flex-col gap-y-3 items-center"><b>مبلغ ناخالص دریافتی:</b><span>--------</span></div>
        <div class="flex flex-col gap-y-3 items-center"><b> مبلغ قابل پرداخت:</b><span>---</span></div>
      </div>
    </div>
  </div>
  <div class="noprint flex gap-x-4 mt-6">
    <a *ngIf="this.step>1" [routerLink]="['/reports/professorsreport',this.id]"
      [queryParams]="{step: (this.step)-1 ,year:this.year,month:this.month}"
      class="border border-gray-400 px-8 font-semibold py-3 rounded-md bg-gray-300 text-gray-500 text-base gap-x-2 flex items-center"
      href="">
      <img src="/assets/images/icon/right-arrow.svg" class="w-8 rotate-180" alt="">
      <span> مرحله قبل</span>
    </a>
    <a *ngIf="this.step<5" [routerLink]="['/reports/professorsreport',this.id]"
      [queryParams]="{step: (this.step)+1 ,year:this.year,month:this.month}"
      class="border border-cyan-600 px-8 font-semibold py-3 rounded-md bg-cyan-600 hover:bg-cyan-700 text-white text-base gap-x-2 flex items-center">
      <span>تایید و ادامه</span>
      <img src="/assets/images/icon/left-arrow.svg" class="w-8" alt="">
    </a>
    <button (click)="PrintPage()" *ngIf="this.step==5"
      class="border border-cyan-600 px-8 font-semibold py-3 rounded-md bg-cyan-600 hover:bg-cyan-700 text-white text-base gap-x-2 flex items-center">
      <span>صدور فیش حقوقی</span>
    </button>
  </div>
  </div>
  <!-- component -->

</main>
