<div class="header flex justify-between items-center p-3">
    <nav>
        <ol class="flex items-center gap-1 text-sm w-max">
            <li>
                <span class="font-medium"> گزارشات حسابرسی /</span>
            </li>
            <li class="font-medium text-primary">دروس /</li>
            <li class="font-medium text-primary"> {{page_title}}</li>
        </ol>
    </nav>
</div>
<div class="rounded-md border border-[#c5c5c5] bg-white shadow-default dark:border-strokedark dark:bg-boxdark">
    <form [formGroup]="ReportForm" class="grid lg:grid-cols-2 grid-cols-1 gap-6.5 p-6.5">
        <div>
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
              ثبت کننده
              <span class="text-meta-1">*</span>
            </label>
            <select formControlName="created_fk_by"  [ngClass]="{'input-invalid': (this.ReportForm.controls.created_fk_by.invalid) &&(this.ReportForm.controls.created_fk_by.dirty ||this.ReportForm.controls.created_fk_by.touched)}"   class="form-control-select">
              <option *ngFor="let emp of EmployiesData " [value]="emp.user_pk_id" >{{emp.name + '&nbsp; &nbsp;' +emp.last_name}}</option>
            </select>
          </div>
        <div>
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
                نام درس
                <span class="text-meta-1">*</span>
            </label>
            <input type="text" formControlName="name" class="form-control">
        </div>
        <div>
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
                 زمان کلاس
                <span class="text-meta-1">*</span>
            </label>
            <ng-persian-datepicker [uiHideAfterSelectDate]="false" [dateFormat]="'YYYY-MM-DD HH:mm:ss'"
                [uiTodayBtnEnable]="false" [timeEnable]="true" [dateInitValue]="false">
                <input type="text" formControlName="course_time" dir="ltr" class="form-control">
            </ng-persian-datepicker>
        </div>
        <div>
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
                مدت کلاس
                <span class="text-meta-1">*</span>
            </label>
            <input type="number" formControlName="duration" class="form-control">
        </div>
        <div  class="lg:col-span-2">
          <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
            اساتید کلاس
              <span class="text-form-input font-medium dark:text-white">
              (Press Enter to add )
              <span class="text-meta-1">*</span>
            </span> 
          </label>
          <input  type="text" formControlName="teachers" (click)="OpenSearchTeacher()"   class="w-full  dark:text-bodydark1 text-black rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary">
          <div *ngIf="isOpenSearchTeacher" class="search-tag mt-2 bg-white dark:bg-form-input dark:text-bodydark1 text-black  border border-gray-300 rounded-lg shadow-md max-h-60 overflow-y-auto">
            <div (click)="AddTeacherInput(item.user_pk_id,item.name,item.last_name)" *ngFor="let item of EmployiesData | filter: this.ReportForm.controls.teachers.value" class="px-4 py-2 cursor-pointer hover:bg-stroke dark:hover:bg-black text-black dark:text-white">{{item.name+'&nbsp; &nbsp;'+item.last_name}}</div>
          </div>
          <div *ngIf="TeacherInputArray.length>0" class="w-full flex items-center gap-2 mt-4 p-2 flex-wrap max-h-34 overflow-y-auto border-[1.5px] border-stroke dark:border-form-strokedark rounded-md">
            <div *ngFor="let item of TeacherInputTitleArray;let i = index" class=" flex text-center justify-between text-black dark:text-white rounded-sm px-3 py-1 bg-bodydark1 dark:bg-black ">
              <button >
                <svg (click)="RemoveTeacherInput(i)" class="w-8  pl-2 fill-body hover:fill-black dark:fill-bodydark dark:hover:fill-bodydark1 mx-auto cursor-pointer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M15.78 14.36a1 1 0 0 1-1.42 1.42l-2.82-2.83-2.83 2.83a1 1 0 1 1-1.42-1.42l2.83-2.82L7.3 8.7a1 1 0 0 1 1.42-1.42l2.83 2.83 2.82-2.83a1 1 0 0 1 1.42 1.42l-2.83 2.83 2.83 2.82z"></path></svg>
              </button>
              <span>{{item}}</span>
              </div>
          </div>
        </div>
    </form>
    <div class="flex justify-end p-6.5 items-center gap-x-2">
        <button [disabled]="this.ReportForm.invalid || btnLoading || TeacherInputArray.length<1" (click)="onSubmit()"
            class="flex disabled:bg-secondary justify-center rounded bg-primary py-2 px-5 font-medium text-gray">{{page_title}}</button>
        <a [routerLink]="['/AuditReports/Course']"
            class="flex justify-center rounded bg-bodydark py-2 px-5 font-medium text-black-2">بازگشت</a>
    </div>
</div>