<div class="header flex justify-between items-center p-3">
    <nav>
        <ol class="flex items-center gap-1 text-sm w-max">
            <li>
                <span class="font-medium"> گزارشات حسابرسی /</span>
            </li>
            <li class="font-medium text-primary">پرسنل /</li>
            <li class="font-medium text-primary"> {{page_title}}</li>
        </ol>
    </nav>
</div>
<div class="rounded-md border border-[#c5c5c5] bg-white shadow-default dark:border-strokedark dark:bg-boxdark">
    <form [formGroup]="ReportForm" class="grid lg:grid-cols-2 grid-cols-1 gap-6.5 p-6.5">
        <div>
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
                نام
                <span class="text-meta-1">*</span>
            </label>
            <input type="text" formControlName="name" class="form-control">
        </div>
        <div>
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
                نام خانوادگی
                <span class="text-meta-1">*</span>
            </label>
            <input type="text" formControlName="last_name" class="form-control">
        </div>

        <div>
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
                تاریخ تولد
                <span class="text-meta-1">*</span>
            </label>
            <ng-persian-datepicker [uiHideAfterSelectDate]="false" [dateFormat]="'YYYY-MM-DD'"
                [uiTodayBtnEnable]="false" [dateInitValue]="false">
                <input type="text" formControlName="day_of_birth" dir="ltr" class="form-control">
            </ng-persian-datepicker>
        </div>
        <div>
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
                ایمیل
                <span class="text-meta-1">*</span>
            </label>
            <input type="text" formControlName="email" class="form-control">
        </div>
        <div>
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
                شماره همراه
                <span class="text-meta-1">*</span>
            </label>
            <input type="text" formControlName="mobile_number" class="form-control">
        </div>

        <div>
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
                آدرس
            </label>
            <input type="text" formControlName="address" class="form-control">
        </div>
        <div>
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
                اولویت
            </label>
            <input type="number" formControlName="priority" class="form-control">
        </div>
        <div>
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
                ID اثر انگشت
            </label>
            <input type="text" formControlName="fingerprint_scanner_user_id" class="form-control">
        </div>
        <div class="col-span-2">
            <label class="mb-3 block text-base font-semibold  text-graydark dark:text-white">
                نقش
            </label>
            <input type="text" formControlName="roles" (click)="OpenSearchRole()"
                class="form-control">
            <div *ngIf="isOpenSearchRole"
                class="search-tag mt-2 bg-white dark:bg-form-input dark:text-bodydark1 text-black  border border-gray-300 rounded-lg shadow-md max-h-34 overflow-y-auto">
                <div (click)="AddRoleInput(item.role_pk_id,item.name)"
                    *ngFor="let item of RolesData | filter: this.ReportForm.controls.roles.value"
                    class="px-4 py-2 cursor-pointer hover:bg-stroke dark:hover:bg-black text-black dark:text-white">
                    {{item.name}}</div>
            </div>
            <div *ngIf="RolesInputArray.length>0"
                class="w-full flex items-center gap-2 mt-4 p-2 flex-wrap max-h-34 overflow-y-auto border-[1.5px] border-stroke dark:border-form-strokedark rounded-md">
                <div *ngFor="let item of RolesInputTitleArray;let i = index"
                    class=" flex text-center justify-between text-black dark:text-white rounded-sm px-3 py-1 bg-bodydark1 dark:bg-black ">
                    <button>
                        <svg (click)="RemoveRoleInput(i)"
                            class="w-8  pl-2 fill-body hover:fill-black dark:fill-bodydark dark:hover:fill-bodydark1 mx-auto cursor-pointer"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path fill-rule="evenodd"
                                d="M15.78 14.36a1 1 0 0 1-1.42 1.42l-2.82-2.83-2.83 2.83a1 1 0 1 1-1.42-1.42l2.83-2.82L7.3 8.7a1 1 0 0 1 1.42-1.42l2.83 2.83 2.82-2.83a1 1 0 0 1 1.42 1.42l-2.83 2.83 2.83 2.82z">
                            </path>
                        </svg>
                    </button>
                    <span>{{item}}</span>
                </div>
            </div>


        </div>
    </form>
    <div class="flex justify-end p-6.5 items-center gap-x-2">
        <button [disabled]="this.ReportForm.invalid || btnLoading" (click)="onSubmit()"
            class="flex disabled:bg-secondary justify-center rounded bg-primary py-2 px-5 font-medium text-gray">{{page_title}}</button>
        <a [routerLink]="['/AuditReports/Employee']"
            class="flex justify-center rounded bg-bodydark py-2 px-5 font-medium text-black-2">بازگشت</a>
    </div>
</div>